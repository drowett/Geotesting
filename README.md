# README #

This assumes you have Postgis already installed

### Db Install script ###

### Create DB ###
--Use PgAdmin to create with or use script

--Postgresql db creation
CREATE DATABASE "GeoTesting"
    WITH 
    OWNER = postgres
    ENCODING = 'UTF8'
    LC_COLLATE = 'English_United States.1252'
    LC_CTYPE = 'English_United States.1252'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1;

### Table creation and seed script ###
CREATE EXTENSION IF NOT EXISTS postgis;
CREATE TABLE public."Locations"
(
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    "Name" text COLLATE pg_catalog."default",
    "Latitude" double precision NOT NULL,
    "Longitude" double precision NOT NULL,
    "GeoLocation" geometry,
    CONSTRAINT "PK_Locations" PRIMARY KEY ("Id")
)

TABLESPACE pg_default;

ALTER TABLE public."Locations"
    OWNER to postgres;

INSERT INTO public."Locations"("Id", "Name", "Latitude", "Longitude", "GeoLocation")
	VALUES (1, 'Test1', -37.796988, 144.97915999999998, null);
	
INSERT INTO public."Locations"("Id", "Name", "Latitude", "Longitude", "GeoLocation")
	VALUES (2, 'Test2', -34.00154, 125.412545, null);

UPDATE public."Locations" SET "GeoLocation" = ST_POINT("Latitude", "Longitude");
